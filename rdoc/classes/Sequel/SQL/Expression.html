<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html lang='en'>
<head>
<title>Sequel::SQL::Expression</title>
<meta name='viewport' content='width=device-width, initial-scale=1'>
<meta content='text/html; charset=UTF-8' http-equiv='Content-Type'>
<link href='../../../css/style.css' media='screen' rel='stylesheet' type='text/css'>
<script type='text/javascript'>
  function popupCode(url) {
    window.open(url, "Code", "resizable=yes,scrollbars=yes,toolbar=no,status=no,height=150,width=400")
  }
  
  function toggleCode(id) {
    var code = document.getElementById(id)
  
    code.style.display = code.style.display != 'block' ? 'block' : 'none'
    return true
  }
  
  // Make codeblocks hidden by default
  document.writeln('<' + 'style type="text/css">.method .source pre { display: none }<\/style>')
</script>
</head>
<body class='page'>
<div class='class' id='wrapper'>
<div class='header'>
<h1 class='name'><span class='type'>class</span>
Sequel::SQL::Expression
</h1>
<ol class='paths'>
<li>
<a href="../../../files/lib/sequel/sql_rb.html">lib/sequel/sql.rb</a>
</li>
</ol>
<div class='parent'>
Superclass:
<strong>Object</strong>
</div>
</div>
<div id='content'>
<div id='text'>
<div id='description'>
<p>Base class for all <a href="../SQL.html"><code>SQL</code></a> expression objects.</p>
</div>
<div id='method-list'>
<h2>Methods</h2>
<h3>Public Class</h3>
<ol>
<li><a href="#method-c-attr_reader">attr_reader</a></li>
<li><a href="#attribute-c-comparison_attrs">comparison_attrs</a></li>
<li><a href="#method-c-inherited">inherited</a></li>
</ol>
<h3>Public Instance</h3>
<ol>
<li><a href="#method-i-3D-3D">==</a></li>
<li><a href="#method-i-clone">clone</a></li>
<li><a href="#method-i-eql-3F">eql?</a></li>
<li><a href="#method-i-hash">hash</a></li>
<li><a href="#method-i-inspect">inspect</a></li>
</ol>
</div>
<div id='context'>
</div>
<div id='section'>
<div id='aliases-list'>
<h2>Public Instance Aliases</h2>
<div class='name-list'>
<table summary='Public Instance Aliases'>
<tr class='top-aligned-row context-row'>
<td class='context-item-name'>dup</td>
<td>-&gt;</td>
<td class='context-item-value'><a href="#method-i-clone">clone</a></td>
</tr>
</table>
</div>
</div>
<div id='attribute-list'>
<h2 class='section-bar'>Attributes</h2>
<div class='name-list'>
<table>
<tr class='top-aligned-row context-row'>
<td class='context-item-name'>
<a name='attribute-c-comparison_attrs'>comparison_attrs</a>
</td>
<td class='context-item-value'>[R]</td>
<td class='context-item-desc'>
<p>All attributes used for equality and hash methods.</p>
</td>
</tr>
</table>
</div>
</div>
<div id='methods'>
<h2>Public Class methods</h2>
<div class='method public-class' id='method-method-c-attr_reader'>
<a name='method-c-attr_reader'></a>
<div class='synopsis'>
<span class='name'>attr_reader</span><span class='arguments'>(*args)</span>

</div>
<div class='description'>

<p><a href="Expression.html"><code>Expression</code></a> objects are assumed to be value objects, where their attribute values can’t change after assignment.  In order to make it easy to define equality and hash methods, subclass instances assume that the only values that affect the results of such methods are the values of the object’s attributes.</p>

</div>
<div class='source'>
<a class='source-toggle' href='#' onclick='toggleCode(&#39;method-c-attr_reader-source&#39;); return false'>
[show source]
</a>
<pre id='method-c-attr_reader-source'>   <span class="ruby-comment"># File lib/sequel/sql.rb</span>
<span class="line-num">92</span> <span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">attr_reader</span>(<span class="ruby-operator">*</span><span class="ruby-identifier">args</span>)
<span class="line-num">93</span>   <span class="ruby-keyword">super</span>
<span class="line-num">94</span>   <span class="ruby-identifier">comparison_attrs</span>.<span class="ruby-identifier">concat</span>(<span class="ruby-identifier">args</span>)
<span class="line-num">95</span> <span class="ruby-keyword">end</span></pre>
</div>
</div>
<div class='method public-class' id='method-method-c-inherited'>
<a name='method-c-inherited'></a>
<div class='synopsis'>
<span class='name'>inherited</span><span class='arguments'>(subclass)</span>

</div>
<div class='description'>

<p>Copy the <a href="Expression.html#attribute-c-comparison_attrs"><code>comparison_attrs</code></a> into the subclass.</p>

</div>
<div class='source'>
<a class='source-toggle' href='#' onclick='toggleCode(&#39;method-c-inherited-source&#39;); return false'>
[show source]
</a>
<pre id='method-c-inherited-source'>    <span class="ruby-comment"># File lib/sequel/sql.rb</span>
<span class="line-num"> 98</span> <span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">inherited</span>(<span class="ruby-identifier">subclass</span>)
<span class="line-num"> 99</span>   <span class="ruby-keyword">super</span>
<span class="line-num">100</span>   <span class="ruby-identifier">subclass</span>.<span class="ruby-identifier">instance_variable_set</span>(<span class="ruby-value">:@comparison_attrs</span>, <span class="ruby-identifier">comparison_attrs</span>.<span class="ruby-identifier">dup</span>)
<span class="line-num">101</span> <span class="ruby-keyword">end</span></pre>
</div>
</div>
<h2>Public Instance methods</h2>
<div class='method public-instance' id='method-method-i-3D-3D'>
<a name='method-i-3D-3D'></a>
<div class='synopsis'>
<span class='name'>==</span><span class='arguments'>(other)</span>

</div>
<div class='description'>

<p>Alias of <code>eql?</code></p>

</div>
<div class='source'>
<a class='source-toggle' href='#' onclick='toggleCode(&#39;method-i-3D-3D-source&#39;); return false'>
[show source]
</a>
<pre id='method-i-3D-3D-source'>    <span class="ruby-comment"># File lib/sequel/sql.rb</span>
<span class="line-num">125</span> <span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">==</span>(<span class="ruby-identifier">other</span>)
<span class="line-num">126</span>   <span class="ruby-identifier">eql?</span>(<span class="ruby-identifier">other</span>)
<span class="line-num">127</span> <span class="ruby-keyword">end</span></pre>
</div>
</div>
<div class='method public-instance' id='method-method-i-clone'>
<a name='method-i-clone'></a>
<div class='synopsis'>
<span class='name'>clone</span><span class='arguments'>()</span>

</div>
<div class='description'>

<p>Make clone/dup return self, since <a href="Expression.html"><code>Expression</code></a> objects are supposed to be frozen value objects</p>

</div>
<div class='source'>
<a class='source-toggle' href='#' onclick='toggleCode(&#39;method-i-clone-source&#39;); return false'>
[show source]
</a>
<pre id='method-i-clone-source'>    <span class="ruby-comment"># File lib/sequel/sql.rb</span>
<span class="line-num">119</span> <span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">clone</span>
<span class="line-num">120</span>   <span class="ruby-keyword">self</span>
<span class="line-num">121</span> <span class="ruby-keyword">end</span></pre>
</div>
</div>
<div class='method public-instance' id='method-method-i-eql-3F'>
<a name='method-i-eql-3F'></a>
<div class='synopsis'>
<span class='name'>eql?</span><span class='arguments'>(other)</span>

</div>
<div class='description'>

<p>Returns true if the receiver is the same expression as the the <code>other</code> expression.</p>

</div>
<div class='source'>
<a class='source-toggle' href='#' onclick='toggleCode(&#39;method-i-eql-3F-source&#39;); return false'>
[show source]
</a>
<pre id='method-i-eql-3F-source'>    <span class="ruby-comment"># File lib/sequel/sql.rb</span>
<span class="line-num">131</span> <span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">eql?</span>(<span class="ruby-identifier">other</span>)
<span class="line-num">132</span>   <span class="ruby-identifier">other</span>.<span class="ruby-identifier">is_a?</span>(<span class="ruby-keyword">self</span>.<span class="ruby-identifier">class</span>) <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-operator">!</span><span class="ruby-keyword">self</span>.<span class="ruby-identifier">class</span>.<span class="ruby-identifier">comparison_attrs</span>.<span class="ruby-identifier">find</span>{<span class="ruby-operator">|</span><span class="ruby-identifier">a</span><span class="ruby-operator">|</span> <span class="ruby-identifier">public_send</span>(<span class="ruby-identifier">a</span>) <span class="ruby-operator">!=</span> <span class="ruby-identifier">other</span>.<span class="ruby-identifier">public_send</span>(<span class="ruby-identifier">a</span>)}
<span class="line-num">133</span> <span class="ruby-keyword">end</span></pre>
</div>
</div>
<div class='method public-instance' id='method-method-i-hash'>
<a name='method-i-hash'></a>
<div class='synopsis'>
<span class='name'>hash</span><span class='arguments'>()</span>

</div>
<div class='description'>

<p>Make sure that the hash value is the same if the attributes are the same.</p>

</div>
<div class='source'>
<a class='source-toggle' href='#' onclick='toggleCode(&#39;method-i-hash-source&#39;); return false'>
[show source]
</a>
<pre id='method-i-hash-source'>    <span class="ruby-comment"># File lib/sequel/sql.rb</span>
<span class="line-num">136</span> <span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">hash</span>
<span class="line-num">137</span>   ([<span class="ruby-keyword">self</span>.<span class="ruby-identifier">class</span>] <span class="ruby-operator">+</span> <span class="ruby-keyword">self</span>.<span class="ruby-identifier">class</span>.<span class="ruby-identifier">comparison_attrs</span>.<span class="ruby-identifier">map</span>{<span class="ruby-operator">|</span><span class="ruby-identifier">x</span><span class="ruby-operator">|</span> <span class="ruby-identifier">public_send</span>(<span class="ruby-identifier">x</span>)}).<span class="ruby-identifier">hash</span>
<span class="line-num">138</span> <span class="ruby-keyword">end</span></pre>
</div>
</div>
<div class='method public-instance' id='method-method-i-inspect'>
<a name='method-i-inspect'></a>
<div class='synopsis'>
<span class='name'>inspect</span><span class='arguments'>()</span>

</div>
<div class='description'>

<p>Show the class name and instance variables for the object.</p>

</div>
<div class='source'>
<a class='source-toggle' href='#' onclick='toggleCode(&#39;method-i-inspect-source&#39;); return false'>
[show source]
</a>
<pre id='method-i-inspect-source'>    <span class="ruby-comment"># File lib/sequel/sql.rb</span>
<span class="line-num">141</span> <span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">inspect</span>
<span class="line-num">142</span>   <span class="ruby-node">&quot;#&lt;#{self.class} #{instance_variables.map{|iv| &quot;#{iv}=&gt;#{instance_variable_get(iv).inspect}&quot;}.join(&#39;, &#39;)}&gt;&quot;</span>
<span class="line-num">143</span> <span class="ruby-keyword">end</span></pre>
</div>
</div>
</div>
</div>

</div>
</div>

<div id='footer-push'></div>
</div>
<div id='footer'>
<a href="https://github.com/jeremyevans/hanna"><strong>Hanna</strong> RDoc template</a>
</div>
</body>
</html>
