<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html lang='en'>
<head>
<title>4.17.0.txt</title>
<meta name='viewport' content='width=device-width, initial-scale=1'>
<meta content='text/html; charset=UTF-8' http-equiv='Content-Type'>
<link href='../../../css/style.css' media='screen' rel='stylesheet' type='text/css'>
<script type='text/javascript'>
  function popupCode(url) {
    window.open(url, "Code", "resizable=yes,scrollbars=yes,toolbar=no,status=no,height=150,width=400")
  }
  
  function toggleCode(id) {
    var code = document.getElementById(id)
  
    code.style.display = code.style.display != 'block' ? 'block' : 'none'
    return true
  }
  
  // Make codeblocks hidden by default
  document.writeln('<' + 'style type="text/css">.method .source pre { display: none }<\/style>')
</script>
</head>
<body class='page'>
<div class='file' id='wrapper'>
<div class='header'>
<h1 class='name'>4.17.0.txt
</h1>
<div class='paths'>
doc/release_notes/4.17.0.txt
</div>
<div class='last-update'>
Last Update:
<span class='datetime'>2014-12-01 07:59:35 -0800</span>
</div>
</div>
<div id='content'>
<div id='text'>
<div id='description'>
<h1 id="label-New+Features">New Features<span><a href="#label-New+Features">&para;</a> <a href="#top">&uarr;</a></span></h1>
<ul><li>
<p>A :preconnect Database option has been added, for automatically creating the maximum number of connections to the database on instantiation.  This is useful when there is high latency for initial connection setup, where Sequelâ€™s usual approach of connecting as needed can cause pauses at runtime.</p>
</li><li>
<p>Database#sharded? has been added for checking whether the Database object uses multiple servers.</p>
</li><li>
<p>Dataset#server? has been added, for returning a cloned dataset associated with the given server/shard if the dataset does not already have a server set.  This returns the receiver if the server has already been set or the Database is not sharded.</p>
</li></ul>

<h1 id="label-Other+Improvements">Other Improvements<span><a href="#label-Other+Improvements">&para;</a> <a href="#top">&uarr;</a></span></h1>
<ul><li>
<p><a href="../../../classes/Sequel.html"><code>Sequel</code></a> now uses the correct shard when deleting model instances. Previously, the correct shard was only used in the unoptimized case, not in the optimized case.</p>
</li><li>
<p><a href="../../../classes/Sequel.html"><code>Sequel</code></a> now uses the correct shard when using Dataset#insert_select on PostgreSQL.  This was first broken in the <a href="4_13_0_txt.html">4.13.0</a> release.</p>
</li><li>
<p><a href="../../../classes/Sequel.html"><code>Sequel</code></a> now correctly handles <a href="../../../classes/Sequel/SQL/Blob.html"><code>Sequel::SQL::Blob</code></a> instances used in bound variables in the postgres adapter.  Previously this resulted in duplicate apostrophes being used.</p>
</li><li>
<p>When using the jdbc/sqlite3 adapter with jdbc-sqlite3 3.8.7, <a href="../../../classes/Sequel.html"><code>Sequel</code></a> now handles date objects and empty blobs correctly, working around bugs in the driver.</p>
</li></ul>

<h1 id="label-Backwards+Compatibility">Backwards Compatibility<span><a href="#label-Backwards+Compatibility">&para;</a> <a href="#top">&uarr;</a></span></h1>
<ul><li>
<p>In the update_or_create plugin, Model.update_or_create now always returns the object.  Previously it would not return the object if the object already existed but no updates were necessary.</p>
</li></ul>
</div>
<div id='context'>
</div>

</div>
</div>

<div id='footer-push'></div>
</div>
<div id='footer'>
<a href="https://github.com/jeremyevans/hanna"><strong>Hanna</strong> RDoc template</a>
</div>
</body>
</html>
