<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html lang='en'>
<head>
<title>Sequel::Postgres::JSONBOp</title>
<meta name='viewport' content='width=device-width, initial-scale=1'>
<meta content='text/html; charset=UTF-8' http-equiv='Content-Type'>
<link href='../../../css/style.css' media='screen' rel='stylesheet' type='text/css'>
<script type='text/javascript'>
  function popupCode(url) {
    window.open(url, "Code", "resizable=yes,scrollbars=yes,toolbar=no,status=no,height=150,width=400")
  }
  
  function toggleCode(id) {
    var code = document.getElementById(id)
  
    code.style.display = code.style.display != 'block' ? 'block' : 'none'
    return true
  }
  
  // Make codeblocks hidden by default
  document.writeln('<' + 'style type="text/css">.method .source pre { display: none }<\/style>')
</script>
</head>
<body class='page'>
<div class='class' id='wrapper'>
<div class='header'>
<h1 class='name'><span class='type'>class</span>
Sequel::Postgres::JSONBOp
</h1>
<ol class='paths'>
<li>
<a href="../../../files/lib/sequel/extensions/pg_json_ops_rb.html">lib/sequel/extensions/pg_json_ops.rb</a>
</li>
</ol>
<div class='parent'>
Superclass:
<strong><a href="JSONBaseOp.html">JSONBaseOp</a></strong>
</div>
</div>
<div id='content'>
<div id='text'>
<div id='description'>
<p><a href="JSONBaseOp.html"><code>JSONBaseOp</code></a> subclass for the jsonb type.</p>

<p>In the method documentation examples, assume that:</p>

<pre class="ruby"><span class="ruby-identifier">jsonb_op</span> = <span class="ruby-constant">Sequel</span>.<span class="ruby-identifier">pg_jsonb</span>(<span class="ruby-value">:jsonb</span>)
</pre>
</div>
<div id='method-list'>
<h2>Methods</h2>
<h3>Public Instance</h3>
<ol>
<li><a href="#method-i-2D">-</a></li>
<li><a href="#method-i-5B-5D">[]</a></li>
<li><a href="#method-i-concat">concat</a></li>
<li><a href="#method-i-contain_all">contain_all</a></li>
<li><a href="#method-i-contain_any">contain_any</a></li>
<li><a href="#method-i-contained_by">contained_by</a></li>
<li><a href="#method-i-contains">contains</a></li>
<li><a href="#method-i-delete_path">delete_path</a></li>
<li><a href="#method-i-has_key-3F">has_key?</a></li>
<li><a href="#method-i-insert">insert</a></li>
<li><a href="#method-i-path_exists">path_exists</a></li>
<li><a href="#method-i-path_exists-21">path_exists!</a></li>
<li><a href="#method-i-path_exists_tz-21">path_exists_tz!</a></li>
<li><a href="#method-i-path_match">path_match</a></li>
<li><a href="#method-i-path_match-21">path_match!</a></li>
<li><a href="#method-i-path_match_tz-21">path_match_tz!</a></li>
<li><a href="#method-i-path_query">path_query</a></li>
<li><a href="#method-i-path_query_array">path_query_array</a></li>
<li><a href="#method-i-path_query_array_tz">path_query_array_tz</a></li>
<li><a href="#method-i-path_query_first">path_query_first</a></li>
<li><a href="#method-i-path_query_first_tz">path_query_first_tz</a></li>
<li><a href="#method-i-path_query_tz">path_query_tz</a></li>
<li><a href="#method-i-pg_jsonb">pg_jsonb</a></li>
<li><a href="#method-i-pretty">pretty</a></li>
<li><a href="#method-i-set">set</a></li>
<li><a href="#method-i-set_lax">set_lax</a></li>
</ol>
</div>
<div id='context'>
</div>
<div id='section'>
<div id='constants-list'>
<h2>Constants</h2>
<div class='name-list'>
<table summary='Constants'>
<tr class='top-aligned-row context-row'>
<td class='context-item-name'>CONCAT</td>
<td>=</td>
<td class='context-item-value'>["(".freeze, " || ".freeze, ")".freeze].freeze</td>
<td>&nbsp;</td>
<td class='context-item-desc'></td>
</tr>
<tr class='top-aligned-row context-row'>
<td class='context-item-name'>CONTAINED_BY</td>
<td>=</td>
<td class='context-item-value'>["(".freeze, " <@ ".freeze, ")".freeze].freeze</td>
<td>&nbsp;</td>
<td class='context-item-desc'></td>
</tr>
<tr class='top-aligned-row context-row'>
<td class='context-item-name'>CONTAINS</td>
<td>=</td>
<td class='context-item-value'>["(".freeze, " @> ".freeze, ")".freeze].freeze</td>
<td>&nbsp;</td>
<td class='context-item-desc'></td>
</tr>
<tr class='top-aligned-row context-row'>
<td class='context-item-name'>CONTAIN_ALL</td>
<td>=</td>
<td class='context-item-value'>["(".freeze, " ?& ".freeze, ")".freeze].freeze</td>
<td>&nbsp;</td>
<td class='context-item-desc'></td>
</tr>
<tr class='top-aligned-row context-row'>
<td class='context-item-name'>CONTAIN_ANY</td>
<td>=</td>
<td class='context-item-value'>["(".freeze, " ?| ".freeze, ")".freeze].freeze</td>
<td>&nbsp;</td>
<td class='context-item-desc'></td>
</tr>
<tr class='top-aligned-row context-row'>
<td class='context-item-name'>DELETE_PATH</td>
<td>=</td>
<td class='context-item-value'>["(".freeze, " #- ".freeze, ")".freeze].freeze</td>
<td>&nbsp;</td>
<td class='context-item-desc'></td>
</tr>
<tr class='top-aligned-row context-row'>
<td class='context-item-name'>HAS_KEY</td>
<td>=</td>
<td class='context-item-value'>["(".freeze, " ? ".freeze, ")".freeze].freeze</td>
<td>&nbsp;</td>
<td class='context-item-desc'></td>
</tr>
<tr class='top-aligned-row context-row'>
<td class='context-item-name'>PATH_EXISTS</td>
<td>=</td>
<td class='context-item-value'>["(".freeze, " @? ".freeze, ")".freeze].freeze</td>
<td>&nbsp;</td>
<td class='context-item-desc'></td>
</tr>
<tr class='top-aligned-row context-row'>
<td class='context-item-name'>PATH_MATCH</td>
<td>=</td>
<td class='context-item-value'>["(".freeze, " @@ ".freeze, ")".freeze].freeze</td>
<td>&nbsp;</td>
<td class='context-item-desc'></td>
</tr>
</table>
</div>
</div>
<div id='aliases-list'>
<h2>Public Instance Aliases</h2>
<div class='name-list'>
<table summary='Public Instance Aliases'>
<tr class='top-aligned-row context-row'>
<td class='context-item-name'>include?</td>
<td>-&gt;</td>
<td class='context-item-value'><a href="#method-i-has_key-3F">has_key?</a></td>
</tr>
</table>
</div>
</div>
<div id='methods'>
<h2>Public Instance methods</h2>
<div class='method public-instance' id='method-method-i-2D'>
<a name='method-i-2D'></a>
<div class='synopsis'>
<span class='name'>-</span><span class='arguments'>(other)</span>

</div>
<div class='description'>

<p>jsonb expression for deletion of the given argument from the current jsonb.</p>

<pre class="ruby"><span class="ruby-identifier">jsonb_op</span> <span class="ruby-operator">-</span> <span class="ruby-string">&quot;a&quot;</span> <span class="ruby-comment"># (jsonb - &#39;a&#39;)</span>
</pre>

</div>
<div class='source'>
<a class='source-toggle' href='#' onclick='toggleCode(&#39;method-i-2D-source&#39;); return false'>
[show source]
</a>
<pre id='method-i-2D-source'>    <span class="ruby-comment"># File lib/sequel/extensions/pg_json_ops.rb</span>
<span class="line-num">422</span> <span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">-</span>(<span class="ruby-identifier">other</span>)
<span class="line-num">423</span>   <span class="ruby-keyword">self</span>.<span class="ruby-identifier">class</span>.<span class="ruby-identifier">new</span>(<span class="ruby-keyword">super</span>)
<span class="line-num">424</span> <span class="ruby-keyword">end</span></pre>
</div>
</div>
<div class='method public-instance' id='method-method-i-5B-5D'>
<a name='method-i-5B-5D'></a>
<div class='synopsis'>
<span class='name'>[]</span><span class='arguments'>(key)</span>

</div>
<div class='description'>

<p>Support subscript syntax for JSONB.</p>

</div>
<div class='source'>
<a class='source-toggle' href='#' onclick='toggleCode(&#39;method-i-5B-5D-source&#39;); return false'>
[show source]
</a>
<pre id='method-i-5B-5D-source'>    <span class="ruby-comment"># File lib/sequel/extensions/pg_json_ops.rb</span>
<span class="line-num">401</span> <span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">[]</span>(<span class="ruby-identifier">key</span>)
<span class="line-num">402</span>   <span class="ruby-keyword">if</span> <span class="ruby-identifier">is_array?</span>(<span class="ruby-identifier">key</span>)
<span class="line-num">403</span>     <span class="ruby-keyword">super</span>
<span class="line-num">404</span>   <span class="ruby-keyword">else</span>
<span class="line-num">405</span>     <span class="ruby-keyword">case</span> <span class="ruby-ivar">@value</span>
<span class="line-num">406</span>     <span class="ruby-keyword">when</span> <span class="ruby-constant">Symbol</span>, <span class="ruby-constant">SQL</span><span class="ruby-operator">::</span><span class="ruby-constant">Identifier</span>, <span class="ruby-constant">SQL</span><span class="ruby-operator">::</span><span class="ruby-constant">QualifiedIdentifier</span>, <span class="ruby-constant">JSONBSubscriptOp</span>
<span class="line-num">407</span>       <span class="ruby-comment"># Only use subscripts for identifiers.  In other cases, switching from</span>
<span class="line-num">408</span>       <span class="ruby-comment"># the -&gt; operator to [] for subscripts causes SQL syntax issues.  You</span>
<span class="line-num">409</span>       <span class="ruby-comment"># only need the [] for subscripting when doing assignment, and</span>
<span class="line-num">410</span>       <span class="ruby-comment"># assignment is generally done on identifiers.</span>
<span class="line-num">411</span>       <span class="ruby-keyword">self</span>.<span class="ruby-identifier">class</span>.<span class="ruby-identifier">new</span>(<span class="ruby-constant">JSONBSubscriptOp</span>.<span class="ruby-identifier">new</span>(<span class="ruby-keyword">self</span>, <span class="ruby-identifier">key</span>))
<span class="line-num">412</span>     <span class="ruby-keyword">else</span>
<span class="line-num">413</span>       <span class="ruby-keyword">super</span>
<span class="line-num">414</span>     <span class="ruby-keyword">end</span>
<span class="line-num">415</span>   <span class="ruby-keyword">end</span>
<span class="line-num">416</span> <span class="ruby-keyword">end</span></pre>
</div>
</div>
<div class='method public-instance' id='method-method-i-concat'>
<a name='method-i-concat'></a>
<div class='synopsis'>
<span class='name'>concat</span><span class='arguments'>(other)</span>

</div>
<div class='description'>

<p>jsonb expression for concatenation of the given jsonb into the current jsonb.</p>

<pre class="ruby"><span class="ruby-identifier">jsonb_op</span>.<span class="ruby-identifier">concat</span>(<span class="ruby-value">:h</span>) <span class="ruby-comment"># (jsonb || h)</span>
</pre>

</div>
<div class='source'>
<a class='source-toggle' href='#' onclick='toggleCode(&#39;method-i-concat-source&#39;); return false'>
[show source]
</a>
<pre id='method-i-concat-source'>    <span class="ruby-comment"># File lib/sequel/extensions/pg_json_ops.rb</span>
<span class="line-num">430</span> <span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">concat</span>(<span class="ruby-identifier">other</span>)
<span class="line-num">431</span>   <span class="ruby-identifier">json_op</span>(<span class="ruby-constant">CONCAT</span>, <span class="ruby-identifier">wrap_input_jsonb</span>(<span class="ruby-identifier">other</span>))
<span class="line-num">432</span> <span class="ruby-keyword">end</span></pre>
</div>
</div>
<div class='method public-instance' id='method-method-i-contain_all'>
<a name='method-i-contain_all'></a>
<div class='synopsis'>
<span class='name'>contain_all</span><span class='arguments'>(other)</span>

</div>
<div class='description'>

<p>Check if the receiver contains all of the keys in the given array:</p>

<pre class="ruby"><span class="ruby-identifier">jsonb_op</span>.<span class="ruby-identifier">contain_all</span>(<span class="ruby-value">:a</span>) <span class="ruby-comment"># (jsonb ?&amp; a)</span>
</pre>

</div>
<div class='source'>
<a class='source-toggle' href='#' onclick='toggleCode(&#39;method-i-contain_all-source&#39;); return false'>
[show source]
</a>
<pre id='method-i-contain_all-source'>    <span class="ruby-comment"># File lib/sequel/extensions/pg_json_ops.rb</span>
<span class="line-num">437</span> <span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">contain_all</span>(<span class="ruby-identifier">other</span>)
<span class="line-num">438</span>   <span class="ruby-identifier">bool_op</span>(<span class="ruby-constant">CONTAIN_ALL</span>, <span class="ruby-identifier">wrap_input_array</span>(<span class="ruby-identifier">other</span>))
<span class="line-num">439</span> <span class="ruby-keyword">end</span></pre>
</div>
</div>
<div class='method public-instance' id='method-method-i-contain_any'>
<a name='method-i-contain_any'></a>
<div class='synopsis'>
<span class='name'>contain_any</span><span class='arguments'>(other)</span>

</div>
<div class='description'>

<p>Check if the receiver contains any of the keys in the given array:</p>

<pre class="ruby"><span class="ruby-identifier">jsonb_op</span>.<span class="ruby-identifier">contain_any</span>(<span class="ruby-value">:a</span>) <span class="ruby-comment"># (jsonb ?| a)</span>
</pre>

</div>
<div class='source'>
<a class='source-toggle' href='#' onclick='toggleCode(&#39;method-i-contain_any-source&#39;); return false'>
[show source]
</a>
<pre id='method-i-contain_any-source'>    <span class="ruby-comment"># File lib/sequel/extensions/pg_json_ops.rb</span>
<span class="line-num">444</span> <span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">contain_any</span>(<span class="ruby-identifier">other</span>)
<span class="line-num">445</span>   <span class="ruby-identifier">bool_op</span>(<span class="ruby-constant">CONTAIN_ANY</span>, <span class="ruby-identifier">wrap_input_array</span>(<span class="ruby-identifier">other</span>))
<span class="line-num">446</span> <span class="ruby-keyword">end</span></pre>
</div>
</div>
<div class='method public-instance' id='method-method-i-contained_by'>
<a name='method-i-contained_by'></a>
<div class='synopsis'>
<span class='name'>contained_by</span><span class='arguments'>(other)</span>

</div>
<div class='description'>

<p>Check if the other jsonb contains all entries in the receiver:</p>

<pre class="ruby"><span class="ruby-identifier">jsonb_op</span>.<span class="ruby-identifier">contained_by</span>(<span class="ruby-value">:h</span>) <span class="ruby-comment"># (jsonb &lt;@ h)</span>
</pre>

</div>
<div class='source'>
<a class='source-toggle' href='#' onclick='toggleCode(&#39;method-i-contained_by-source&#39;); return false'>
[show source]
</a>
<pre id='method-i-contained_by-source'>    <span class="ruby-comment"># File lib/sequel/extensions/pg_json_ops.rb</span>
<span class="line-num">458</span> <span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">contained_by</span>(<span class="ruby-identifier">other</span>)
<span class="line-num">459</span>   <span class="ruby-identifier">bool_op</span>(<span class="ruby-constant">CONTAINED_BY</span>, <span class="ruby-identifier">wrap_input_jsonb</span>(<span class="ruby-identifier">other</span>))
<span class="line-num">460</span> <span class="ruby-keyword">end</span></pre>
</div>
</div>
<div class='method public-instance' id='method-method-i-contains'>
<a name='method-i-contains'></a>
<div class='synopsis'>
<span class='name'>contains</span><span class='arguments'>(other)</span>

</div>
<div class='description'>

<p>Check if the receiver contains all entries in the other jsonb:</p>

<pre class="ruby"><span class="ruby-identifier">jsonb_op</span>.<span class="ruby-identifier">contains</span>(<span class="ruby-value">:h</span>) <span class="ruby-comment"># (jsonb @&gt; h)</span>
</pre>

</div>
<div class='source'>
<a class='source-toggle' href='#' onclick='toggleCode(&#39;method-i-contains-source&#39;); return false'>
[show source]
</a>
<pre id='method-i-contains-source'>    <span class="ruby-comment"># File lib/sequel/extensions/pg_json_ops.rb</span>
<span class="line-num">451</span> <span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">contains</span>(<span class="ruby-identifier">other</span>)
<span class="line-num">452</span>   <span class="ruby-identifier">bool_op</span>(<span class="ruby-constant">CONTAINS</span>, <span class="ruby-identifier">wrap_input_jsonb</span>(<span class="ruby-identifier">other</span>))
<span class="line-num">453</span> <span class="ruby-keyword">end</span></pre>
</div>
</div>
<div class='method public-instance' id='method-method-i-delete_path'>
<a name='method-i-delete_path'></a>
<div class='synopsis'>
<span class='name'>delete_path</span><span class='arguments'>(other)</span>

</div>
<div class='description'>

<p>Removes the given path from the receiver.</p>

<pre class="ruby"><span class="ruby-identifier">jsonb_op</span>.<span class="ruby-identifier">delete_path</span>(<span class="ruby-value">:h</span>) <span class="ruby-comment"># (jsonb #- h)</span>
</pre>

</div>
<div class='source'>
<a class='source-toggle' href='#' onclick='toggleCode(&#39;method-i-delete_path-source&#39;); return false'>
[show source]
</a>
<pre id='method-i-delete_path-source'>    <span class="ruby-comment"># File lib/sequel/extensions/pg_json_ops.rb</span>
<span class="line-num">465</span> <span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">delete_path</span>(<span class="ruby-identifier">other</span>)
<span class="line-num">466</span>   <span class="ruby-identifier">json_op</span>(<span class="ruby-constant">DELETE_PATH</span>, <span class="ruby-identifier">wrap_input_array</span>(<span class="ruby-identifier">other</span>))
<span class="line-num">467</span> <span class="ruby-keyword">end</span></pre>
</div>
</div>
<div class='method public-instance' id='method-method-i-has_key-3F'>
<a name='method-i-has_key-3F'></a>
<div class='synopsis'>
<span class='name'>has_key?</span><span class='arguments'>(key)</span>

</div>
<div class='description'>

<p>Check if the receiver contains the given key:</p>

<pre class="ruby"><span class="ruby-identifier">jsonb_op</span>.<span class="ruby-identifier">has_key?</span>(<span class="ruby-string">&#39;a&#39;</span>) <span class="ruby-comment"># (jsonb ? &#39;a&#39;)</span>
</pre>

</div>
<div class='source'>
<a class='source-toggle' href='#' onclick='toggleCode(&#39;method-i-has_key-3F-source&#39;); return false'>
[show source]
</a>
<pre id='method-i-has_key-3F-source'>    <span class="ruby-comment"># File lib/sequel/extensions/pg_json_ops.rb</span>
<span class="line-num">472</span> <span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">has_key?</span>(<span class="ruby-identifier">key</span>)
<span class="line-num">473</span>   <span class="ruby-identifier">bool_op</span>(<span class="ruby-constant">HAS_KEY</span>, <span class="ruby-identifier">key</span>)
<span class="line-num">474</span> <span class="ruby-keyword">end</span></pre>
</div>
</div>
<div class='method public-instance' id='method-method-i-insert'>
<a name='method-i-insert'></a>
<div class='synopsis'>
<span class='name'>insert</span><span class='arguments'>(path, other, insert_after=false)</span>

</div>
<div class='description'>

<p>Inserts the given jsonb value at the given path in the receiver. The default is to insert the value before the given path, but insert_after can be set to true to insert it after the given path.</p>

<pre class="ruby"><span class="ruby-identifier">jsonb_op</span>.<span class="ruby-identifier">insert</span>([<span class="ruby-string">&#39;a&#39;</span>, <span class="ruby-string">&#39;b&#39;</span>], <span class="ruby-identifier">h</span>) <span class="ruby-comment"># jsonb_insert(jsonb, ARRAY[&#39;a&#39;, &#39;b&#39;], h, false)</span>
<span class="ruby-identifier">jsonb_op</span>.<span class="ruby-identifier">insert</span>([<span class="ruby-string">&#39;a&#39;</span>, <span class="ruby-string">&#39;b&#39;</span>], <span class="ruby-identifier">h</span>, <span class="ruby-keyword">true</span>) <span class="ruby-comment"># jsonb_insert(jsonb, ARRAY[&#39;a&#39;, &#39;b&#39;], h, true)</span>
</pre>

</div>
<div class='source'>
<a class='source-toggle' href='#' onclick='toggleCode(&#39;method-i-insert-source&#39;); return false'>
[show source]
</a>
<pre id='method-i-insert-source'>    <span class="ruby-comment"># File lib/sequel/extensions/pg_json_ops.rb</span>
<span class="line-num">483</span> <span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">insert</span>(<span class="ruby-identifier">path</span>, <span class="ruby-identifier">other</span>, <span class="ruby-identifier">insert_after</span>=<span class="ruby-keyword">false</span>)
<span class="line-num">484</span>   <span class="ruby-keyword">self</span>.<span class="ruby-identifier">class</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">function</span>(<span class="ruby-value">:insert</span>, <span class="ruby-identifier">wrap_input_array</span>(<span class="ruby-identifier">path</span>), <span class="ruby-identifier">wrap_input_jsonb</span>(<span class="ruby-identifier">other</span>), <span class="ruby-identifier">insert_after</span>))
<span class="line-num">485</span> <span class="ruby-keyword">end</span></pre>
</div>
</div>
<div class='method public-instance' id='method-method-i-path_exists'>
<a name='method-i-path_exists'></a>
<div class='synopsis'>
<span class='name'>path_exists</span><span class='arguments'>(path)</span>

</div>
<div class='description'>

<p>Returns whether the JSON path returns any item for the json object.</p>

<pre class="ruby"><span class="ruby-identifier">json_op</span>.<span class="ruby-identifier">path_exists</span>(<span class="ruby-string">&quot;$.foo&quot;</span>) <span class="ruby-comment"># (json @? &#39;$.foo&#39;)</span>
</pre>

</div>
<div class='source'>
<a class='source-toggle' href='#' onclick='toggleCode(&#39;method-i-path_exists-source&#39;); return false'>
[show source]
</a>
<pre id='method-i-path_exists-source'>    <span class="ruby-comment"># File lib/sequel/extensions/pg_json_ops.rb</span>
<span class="line-num">490</span> <span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">path_exists</span>(<span class="ruby-identifier">path</span>)
<span class="line-num">491</span>   <span class="ruby-identifier">bool_op</span>(<span class="ruby-constant">PATH_EXISTS</span>, <span class="ruby-identifier">path</span>)
<span class="line-num">492</span> <span class="ruby-keyword">end</span></pre>
</div>
</div>
<div class='method public-instance' id='method-method-i-path_exists-21'>
<a name='method-i-path_exists-21'></a>
<div class='synopsis'>
<span class='name'>path_exists!</span><span class='arguments'>(path, vars=nil, silent=nil)</span>

</div>
<div class='description'>

<p>Returns whether the JSON path returns any item for the json object.</p>

<pre class="ruby"><span class="ruby-identifier">json_op</span>.<span class="ruby-identifier">path_exists!</span>(<span class="ruby-string">&quot;$.foo&quot;</span>)
<span class="ruby-comment"># jsonb_path_exists(json, &#39;$.foo&#39;)</span>

<span class="ruby-identifier">json_op</span>.<span class="ruby-identifier">path_exists!</span>(<span class="ruby-string">&quot;$.foo ? ($ &gt; $x)&quot;</span>, <span class="ruby-value">x:</span> <span class="ruby-value">2</span>)
<span class="ruby-comment"># jsonb_path_exists(json, &#39;$.foo ? ($ &gt; $x)&#39;, &#39;{&quot;x&quot;:2}&#39;)</span>

<span class="ruby-identifier">json_op</span>.<span class="ruby-identifier">path_exists!</span>(<span class="ruby-string">&quot;$.foo ? ($ &gt; $x)&quot;</span>, {<span class="ruby-value">x:</span> <span class="ruby-value">2</span>}, <span class="ruby-keyword">true</span>)
<span class="ruby-comment"># jsonb_path_exists(json, &#39;$.foo ? ($ &gt; $x)&#39;, &#39;{&quot;x&quot;:2}&#39;, true)</span>
</pre>

</div>
<div class='source'>
<a class='source-toggle' href='#' onclick='toggleCode(&#39;method-i-path_exists-21-source&#39;); return false'>
[show source]
</a>
<pre id='method-i-path_exists-21-source'>    <span class="ruby-comment"># File lib/sequel/extensions/pg_json_ops.rb</span>
<span class="line-num">504</span> <span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">path_exists!</span>(<span class="ruby-identifier">path</span>, <span class="ruby-identifier">vars</span>=<span class="ruby-keyword">nil</span>, <span class="ruby-identifier">silent</span>=<span class="ruby-keyword">nil</span>)
<span class="line-num">505</span>   <span class="ruby-constant">Sequel</span><span class="ruby-operator">::</span><span class="ruby-constant">SQL</span><span class="ruby-operator">::</span><span class="ruby-constant">BooleanExpression</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value">:NOOP</span>, <span class="ruby-identifier">_path_function</span>(<span class="ruby-value">:jsonb_path_exists</span>, <span class="ruby-identifier">path</span>, <span class="ruby-identifier">vars</span>, <span class="ruby-identifier">silent</span>))
<span class="line-num">506</span> <span class="ruby-keyword">end</span></pre>
</div>
</div>
<div class='method public-instance' id='method-method-i-path_exists_tz-21'>
<a name='method-i-path_exists_tz-21'></a>
<div class='synopsis'>
<span class='name'>path_exists_tz!</span><span class='arguments'>(path, vars=nil, silent=nil)</span>

</div>
<div class='description'>

<p>The same as <a href="JSONBOp.html#method-i-path_exists-21"><code>path_exists!</code></a>, except that timezone-aware conversions are used for date/time values.</p>

</div>
<div class='source'>
<a class='source-toggle' href='#' onclick='toggleCode(&#39;method-i-path_exists_tz-21-source&#39;); return false'>
[show source]
</a>
<pre id='method-i-path_exists_tz-21-source'>    <span class="ruby-comment"># File lib/sequel/extensions/pg_json_ops.rb</span>
<span class="line-num">509</span> <span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">path_exists_tz!</span>(<span class="ruby-identifier">path</span>, <span class="ruby-identifier">vars</span>=<span class="ruby-keyword">nil</span>, <span class="ruby-identifier">silent</span>=<span class="ruby-keyword">nil</span>)
<span class="line-num">510</span>   <span class="ruby-constant">Sequel</span><span class="ruby-operator">::</span><span class="ruby-constant">SQL</span><span class="ruby-operator">::</span><span class="ruby-constant">BooleanExpression</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value">:NOOP</span>, <span class="ruby-identifier">_path_function</span>(<span class="ruby-value">:jsonb_path_exists_tz</span>, <span class="ruby-identifier">path</span>, <span class="ruby-identifier">vars</span>, <span class="ruby-identifier">silent</span>))
<span class="line-num">511</span> <span class="ruby-keyword">end</span></pre>
</div>
</div>
<div class='method public-instance' id='method-method-i-path_match'>
<a name='method-i-path_match'></a>
<div class='synopsis'>
<span class='name'>path_match</span><span class='arguments'>(path)</span>

</div>
<div class='description'>

<p>Returns the first item of the result of JSON path predicate check for the json object. Returns nil if the first item is not true or false.</p>

<pre class="ruby"><span class="ruby-identifier">json_op</span>.<span class="ruby-identifier">path_match</span>(<span class="ruby-string">&quot;$.foo&quot;</span>) <span class="ruby-comment"># (json @@ &#39;$.foo&#39;)</span>
</pre>

</div>
<div class='source'>
<a class='source-toggle' href='#' onclick='toggleCode(&#39;method-i-path_match-source&#39;); return false'>
[show source]
</a>
<pre id='method-i-path_match-source'>    <span class="ruby-comment"># File lib/sequel/extensions/pg_json_ops.rb</span>
<span class="line-num">517</span> <span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">path_match</span>(<span class="ruby-identifier">path</span>)
<span class="line-num">518</span>   <span class="ruby-identifier">bool_op</span>(<span class="ruby-constant">PATH_MATCH</span>, <span class="ruby-identifier">path</span>)
<span class="line-num">519</span> <span class="ruby-keyword">end</span></pre>
</div>
</div>
<div class='method public-instance' id='method-method-i-path_match-21'>
<a name='method-i-path_match-21'></a>
<div class='synopsis'>
<span class='name'>path_match!</span><span class='arguments'>(path, vars=nil, silent=nil)</span>

</div>
<div class='description'>

<p>Returns the first item of the result of JSON path predicate check for the json object. Returns nil if the first item is not true or false and silent is true.</p>

<pre class="ruby"><span class="ruby-identifier">json_op</span>.<span class="ruby-identifier">path_match!</span>(<span class="ruby-string">&quot;$.foo&quot;</span>)
<span class="ruby-comment"># jsonb_path_match(json, &#39;$.foo&#39;)</span>

<span class="ruby-identifier">json_op</span>.<span class="ruby-identifier">path_match!</span>(<span class="ruby-string">&quot;$.foo ? ($ &gt; $x)&quot;</span>, <span class="ruby-value">x:</span> <span class="ruby-value">2</span>)
<span class="ruby-comment"># jsonb_path_match(json, &#39;$.foo ? ($ &gt; $x)&#39;, &#39;{&quot;x&quot;:2}&#39;)</span>

<span class="ruby-identifier">json_op</span>.<span class="ruby-identifier">path_match!</span>(<span class="ruby-string">&quot;$.foo ? ($ &gt; $x)&quot;</span>, {<span class="ruby-value">x:</span> <span class="ruby-value">2</span>}, <span class="ruby-keyword">true</span>)
<span class="ruby-comment"># jsonb_path_match(json, &#39;$.foo ? ($ &gt; $x)&#39;, &#39;{&quot;x&quot;:2}&#39;, true)</span>
</pre>

</div>
<div class='source'>
<a class='source-toggle' href='#' onclick='toggleCode(&#39;method-i-path_match-21-source&#39;); return false'>
[show source]
</a>
<pre id='method-i-path_match-21-source'>    <span class="ruby-comment"># File lib/sequel/extensions/pg_json_ops.rb</span>
<span class="line-num">532</span> <span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">path_match!</span>(<span class="ruby-identifier">path</span>, <span class="ruby-identifier">vars</span>=<span class="ruby-keyword">nil</span>, <span class="ruby-identifier">silent</span>=<span class="ruby-keyword">nil</span>)
<span class="line-num">533</span>   <span class="ruby-constant">Sequel</span><span class="ruby-operator">::</span><span class="ruby-constant">SQL</span><span class="ruby-operator">::</span><span class="ruby-constant">BooleanExpression</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value">:NOOP</span>, <span class="ruby-identifier">_path_function</span>(<span class="ruby-value">:jsonb_path_match</span>, <span class="ruby-identifier">path</span>, <span class="ruby-identifier">vars</span>, <span class="ruby-identifier">silent</span>))
<span class="line-num">534</span> <span class="ruby-keyword">end</span></pre>
</div>
</div>
<div class='method public-instance' id='method-method-i-path_match_tz-21'>
<a name='method-i-path_match_tz-21'></a>
<div class='synopsis'>
<span class='name'>path_match_tz!</span><span class='arguments'>(path, vars=nil, silent=nil)</span>

</div>
<div class='description'>

<p>The same as <a href="JSONBOp.html#method-i-path_match-21"><code>path_match!</code></a>, except that timezone-aware conversions are used for date/time values.</p>

</div>
<div class='source'>
<a class='source-toggle' href='#' onclick='toggleCode(&#39;method-i-path_match_tz-21-source&#39;); return false'>
[show source]
</a>
<pre id='method-i-path_match_tz-21-source'>    <span class="ruby-comment"># File lib/sequel/extensions/pg_json_ops.rb</span>
<span class="line-num">537</span> <span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">path_match_tz!</span>(<span class="ruby-identifier">path</span>, <span class="ruby-identifier">vars</span>=<span class="ruby-keyword">nil</span>, <span class="ruby-identifier">silent</span>=<span class="ruby-keyword">nil</span>)
<span class="line-num">538</span>   <span class="ruby-constant">Sequel</span><span class="ruby-operator">::</span><span class="ruby-constant">SQL</span><span class="ruby-operator">::</span><span class="ruby-constant">BooleanExpression</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value">:NOOP</span>, <span class="ruby-identifier">_path_function</span>(<span class="ruby-value">:jsonb_path_match_tz</span>, <span class="ruby-identifier">path</span>, <span class="ruby-identifier">vars</span>, <span class="ruby-identifier">silent</span>))
<span class="line-num">539</span> <span class="ruby-keyword">end</span></pre>
</div>
</div>
<div class='method public-instance' id='method-method-i-path_query'>
<a name='method-i-path_query'></a>
<div class='synopsis'>
<span class='name'>path_query</span><span class='arguments'>(path, vars=nil, silent=nil)</span>

</div>
<div class='description'>

<p>Returns a set of all jsonb values specified by the JSON path for the json object.</p>

<pre class="ruby"><span class="ruby-identifier">json_op</span>.<span class="ruby-identifier">path_query</span>(<span class="ruby-string">&quot;$.foo&quot;</span>)
<span class="ruby-comment"># jsonb_path_query(json, &#39;$.foo&#39;)</span>

<span class="ruby-identifier">json_op</span>.<span class="ruby-identifier">path_query</span>(<span class="ruby-string">&quot;$.foo ? ($ &gt; $x)&quot;</span>, <span class="ruby-value">x:</span> <span class="ruby-value">2</span>)
<span class="ruby-comment"># jsonb_path_query(json, &#39;$.foo ? ($ &gt; $x)&#39;, &#39;{&quot;x&quot;:2}&#39;)</span>

<span class="ruby-identifier">json_op</span>.<span class="ruby-identifier">path_query</span>(<span class="ruby-string">&quot;$.foo ? ($ &gt; $x)&quot;</span>, {<span class="ruby-value">x:</span> <span class="ruby-value">2</span>}, <span class="ruby-keyword">true</span>)
<span class="ruby-comment"># jsonb_path_query(json, &#39;$.foo ? ($ &gt; $x)&#39;, &#39;{&quot;x&quot;:2}&#39;, true)</span>
</pre>

</div>
<div class='source'>
<a class='source-toggle' href='#' onclick='toggleCode(&#39;method-i-path_query-source&#39;); return false'>
[show source]
</a>
<pre id='method-i-path_query-source'>    <span class="ruby-comment"># File lib/sequel/extensions/pg_json_ops.rb</span>
<span class="line-num">552</span> <span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">path_query</span>(<span class="ruby-identifier">path</span>, <span class="ruby-identifier">vars</span>=<span class="ruby-keyword">nil</span>, <span class="ruby-identifier">silent</span>=<span class="ruby-keyword">nil</span>)
<span class="line-num">553</span>   <span class="ruby-identifier">_path_function</span>(<span class="ruby-value">:jsonb_path_query</span>, <span class="ruby-identifier">path</span>, <span class="ruby-identifier">vars</span>, <span class="ruby-identifier">silent</span>)
<span class="line-num">554</span> <span class="ruby-keyword">end</span></pre>
</div>
</div>
<div class='method public-instance' id='method-method-i-path_query_array'>
<a name='method-i-path_query_array'></a>
<div class='synopsis'>
<span class='name'>path_query_array</span><span class='arguments'>(path, vars=nil, silent=nil)</span>

</div>
<div class='description'>

<p>Returns a jsonb array of all values specified by the JSON path for the json object.</p>

<pre class="ruby"><span class="ruby-identifier">json_op</span>.<span class="ruby-identifier">path_query_array</span>(<span class="ruby-string">&quot;$.foo&quot;</span>)
<span class="ruby-comment"># jsonb_path_query_array(json, &#39;$.foo&#39;)</span>

<span class="ruby-identifier">json_op</span>.<span class="ruby-identifier">path_query_array</span>(<span class="ruby-string">&quot;$.foo ? ($ &gt; $x)&quot;</span>, <span class="ruby-value">x:</span> <span class="ruby-value">2</span>)
<span class="ruby-comment"># jsonb_path_query_array(json, &#39;$.foo ? ($ &gt; $x)&#39;, &#39;{&quot;x&quot;:2}&#39;)</span>

<span class="ruby-identifier">json_op</span>.<span class="ruby-identifier">path_query_array</span>(<span class="ruby-string">&quot;$.foo ? ($ &gt; $x)&quot;</span>, {<span class="ruby-value">x:</span> <span class="ruby-value">2</span>}, <span class="ruby-keyword">true</span>)
<span class="ruby-comment"># jsonb_path_query_array(json, &#39;$.foo ? ($ &gt; $x)&#39;, &#39;{&quot;x&quot;:2}&#39;, true)</span>
</pre>

</div>
<div class='source'>
<a class='source-toggle' href='#' onclick='toggleCode(&#39;method-i-path_query_array-source&#39;); return false'>
[show source]
</a>
<pre id='method-i-path_query_array-source'>    <span class="ruby-comment"># File lib/sequel/extensions/pg_json_ops.rb</span>
<span class="line-num">572</span> <span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">path_query_array</span>(<span class="ruby-identifier">path</span>, <span class="ruby-identifier">vars</span>=<span class="ruby-keyword">nil</span>, <span class="ruby-identifier">silent</span>=<span class="ruby-keyword">nil</span>)
<span class="line-num">573</span>   <span class="ruby-constant">JSONBOp</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">_path_function</span>(<span class="ruby-value">:jsonb_path_query_array</span>, <span class="ruby-identifier">path</span>, <span class="ruby-identifier">vars</span>, <span class="ruby-identifier">silent</span>))
<span class="line-num">574</span> <span class="ruby-keyword">end</span></pre>
</div>
</div>
<div class='method public-instance' id='method-method-i-path_query_array_tz'>
<a name='method-i-path_query_array_tz'></a>
<div class='synopsis'>
<span class='name'>path_query_array_tz</span><span class='arguments'>(path, vars=nil, silent=nil)</span>

</div>
<div class='description'>

<p>The same as <a href="JSONBOp.html#method-i-path_query_array"><code>path_query_array</code></a>, except that timezone-aware conversions are used for date/time values.</p>

</div>
<div class='source'>
<a class='source-toggle' href='#' onclick='toggleCode(&#39;method-i-path_query_array_tz-source&#39;); return false'>
[show source]
</a>
<pre id='method-i-path_query_array_tz-source'>    <span class="ruby-comment"># File lib/sequel/extensions/pg_json_ops.rb</span>
<span class="line-num">577</span> <span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">path_query_array_tz</span>(<span class="ruby-identifier">path</span>, <span class="ruby-identifier">vars</span>=<span class="ruby-keyword">nil</span>, <span class="ruby-identifier">silent</span>=<span class="ruby-keyword">nil</span>)
<span class="line-num">578</span>   <span class="ruby-constant">JSONBOp</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">_path_function</span>(<span class="ruby-value">:jsonb_path_query_array_tz</span>, <span class="ruby-identifier">path</span>, <span class="ruby-identifier">vars</span>, <span class="ruby-identifier">silent</span>))
<span class="line-num">579</span> <span class="ruby-keyword">end</span></pre>
</div>
</div>
<div class='method public-instance' id='method-method-i-path_query_first'>
<a name='method-i-path_query_first'></a>
<div class='synopsis'>
<span class='name'>path_query_first</span><span class='arguments'>(path, vars=nil, silent=nil)</span>

</div>
<div class='description'>

<p>Returns the first item of the result specified by the JSON path for the json object.</p>

<pre class="ruby"><span class="ruby-identifier">json_op</span>.<span class="ruby-identifier">path_query_first</span>(<span class="ruby-string">&quot;$.foo&quot;</span>)
<span class="ruby-comment"># jsonb_path_query_first(json, &#39;$.foo&#39;)</span>

<span class="ruby-identifier">json_op</span>.<span class="ruby-identifier">path_query_first</span>(<span class="ruby-string">&quot;$.foo ? ($ &gt; $x)&quot;</span>, <span class="ruby-value">x:</span> <span class="ruby-value">2</span>)
<span class="ruby-comment"># jsonb_path_query_first(json, &#39;$.foo ? ($ &gt; $x)&#39;, &#39;{&quot;x&quot;:2}&#39;)</span>

<span class="ruby-identifier">json_op</span>.<span class="ruby-identifier">path_query_first</span>(<span class="ruby-string">&quot;$.foo ? ($ &gt; $x)&quot;</span>, {<span class="ruby-value">x:</span> <span class="ruby-value">2</span>}, <span class="ruby-keyword">true</span>)
<span class="ruby-comment"># jsonb_path_query_first(json, &#39;$.foo ? ($ &gt; $x)&#39;, &#39;{&quot;x&quot;:2}&#39;, true)</span>
</pre>

</div>
<div class='source'>
<a class='source-toggle' href='#' onclick='toggleCode(&#39;method-i-path_query_first-source&#39;); return false'>
[show source]
</a>
<pre id='method-i-path_query_first-source'>    <span class="ruby-comment"># File lib/sequel/extensions/pg_json_ops.rb</span>
<span class="line-num">592</span> <span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">path_query_first</span>(<span class="ruby-identifier">path</span>, <span class="ruby-identifier">vars</span>=<span class="ruby-keyword">nil</span>, <span class="ruby-identifier">silent</span>=<span class="ruby-keyword">nil</span>)
<span class="line-num">593</span>   <span class="ruby-constant">JSONBOp</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">_path_function</span>(<span class="ruby-value">:jsonb_path_query_first</span>, <span class="ruby-identifier">path</span>, <span class="ruby-identifier">vars</span>, <span class="ruby-identifier">silent</span>))
<span class="line-num">594</span> <span class="ruby-keyword">end</span></pre>
</div>
</div>
<div class='method public-instance' id='method-method-i-path_query_first_tz'>
<a name='method-i-path_query_first_tz'></a>
<div class='synopsis'>
<span class='name'>path_query_first_tz</span><span class='arguments'>(path, vars=nil, silent=nil)</span>

</div>
<div class='description'>

<p>The same as <a href="JSONBOp.html#method-i-path_query_first"><code>path_query_first</code></a>, except that timezone-aware conversions are used for date/time values.</p>

</div>
<div class='source'>
<a class='source-toggle' href='#' onclick='toggleCode(&#39;method-i-path_query_first_tz-source&#39;); return false'>
[show source]
</a>
<pre id='method-i-path_query_first_tz-source'>    <span class="ruby-comment"># File lib/sequel/extensions/pg_json_ops.rb</span>
<span class="line-num">597</span> <span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">path_query_first_tz</span>(<span class="ruby-identifier">path</span>, <span class="ruby-identifier">vars</span>=<span class="ruby-keyword">nil</span>, <span class="ruby-identifier">silent</span>=<span class="ruby-keyword">nil</span>)
<span class="line-num">598</span>   <span class="ruby-constant">JSONBOp</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">_path_function</span>(<span class="ruby-value">:jsonb_path_query_first_tz</span>, <span class="ruby-identifier">path</span>, <span class="ruby-identifier">vars</span>, <span class="ruby-identifier">silent</span>))
<span class="line-num">599</span> <span class="ruby-keyword">end</span></pre>
</div>
</div>
<div class='method public-instance' id='method-method-i-path_query_tz'>
<a name='method-i-path_query_tz'></a>
<div class='synopsis'>
<span class='name'>path_query_tz</span><span class='arguments'>(path, vars=nil, silent=nil)</span>

</div>
<div class='description'>

<p>The same as <a href="JSONBOp.html#method-i-path_query"><code>path_query</code></a>, except that timezone-aware conversions are used for date/time values.</p>

</div>
<div class='source'>
<a class='source-toggle' href='#' onclick='toggleCode(&#39;method-i-path_query_tz-source&#39;); return false'>
[show source]
</a>
<pre id='method-i-path_query_tz-source'>    <span class="ruby-comment"># File lib/sequel/extensions/pg_json_ops.rb</span>
<span class="line-num">557</span> <span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">path_query_tz</span>(<span class="ruby-identifier">path</span>, <span class="ruby-identifier">vars</span>=<span class="ruby-keyword">nil</span>, <span class="ruby-identifier">silent</span>=<span class="ruby-keyword">nil</span>)
<span class="line-num">558</span>   <span class="ruby-identifier">_path_function</span>(<span class="ruby-value">:jsonb_path_query_tz</span>, <span class="ruby-identifier">path</span>, <span class="ruby-identifier">vars</span>, <span class="ruby-identifier">silent</span>)
<span class="line-num">559</span> <span class="ruby-keyword">end</span></pre>
</div>
</div>
<div class='method public-instance' id='method-method-i-pg_jsonb'>
<a name='method-i-pg_jsonb'></a>
<div class='synopsis'>
<span class='name'>pg_jsonb</span><span class='arguments'>()</span>

</div>
<div class='description'>

<p>Return the receiver, since it is already a <a href="JSONBOp.html"><code>JSONBOp</code></a>.</p>

</div>
<div class='source'>
<a class='source-toggle' href='#' onclick='toggleCode(&#39;method-i-pg_jsonb-source&#39;); return false'>
[show source]
</a>
<pre id='method-i-pg_jsonb-source'>    <span class="ruby-comment"># File lib/sequel/extensions/pg_json_ops.rb</span>
<span class="line-num">602</span> <span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">pg_jsonb</span>
<span class="line-num">603</span>   <span class="ruby-keyword">self</span>
<span class="line-num">604</span> <span class="ruby-keyword">end</span></pre>
</div>
</div>
<div class='method public-instance' id='method-method-i-pretty'>
<a name='method-i-pretty'></a>
<div class='synopsis'>
<span class='name'>pretty</span><span class='arguments'>()</span>

</div>
<div class='description'>

<p>Return a pretty printed version of the receiver as a string expression.</p>

<pre class="ruby"><span class="ruby-identifier">jsonb_op</span>.<span class="ruby-identifier">pretty</span> <span class="ruby-comment"># jsonb_pretty(jsonb)</span>
</pre>

</div>
<div class='source'>
<a class='source-toggle' href='#' onclick='toggleCode(&#39;method-i-pretty-source&#39;); return false'>
[show source]
</a>
<pre id='method-i-pretty-source'>    <span class="ruby-comment"># File lib/sequel/extensions/pg_json_ops.rb</span>
<span class="line-num">609</span> <span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">pretty</span>
<span class="line-num">610</span>   <span class="ruby-constant">Sequel</span><span class="ruby-operator">::</span><span class="ruby-constant">SQL</span><span class="ruby-operator">::</span><span class="ruby-constant">StringExpression</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value">:NOOP</span>, <span class="ruby-identifier">function</span>(<span class="ruby-value">:pretty</span>))
<span class="line-num">611</span> <span class="ruby-keyword">end</span></pre>
</div>
</div>
<div class='method public-instance' id='method-method-i-set'>
<a name='method-i-set'></a>
<div class='synopsis'>
<span class='name'>set</span><span class='arguments'>(path, other, create_missing=true)</span>

</div>
<div class='description'>

<p>Set the given jsonb value at the given path in the receiver. By default, this will create the value if it does not exist, but create_missing can be set to false to not create a new value.</p>

<pre class="ruby"><span class="ruby-identifier">jsonb_op</span>.<span class="ruby-identifier">set</span>([<span class="ruby-string">&#39;a&#39;</span>, <span class="ruby-string">&#39;b&#39;</span>], <span class="ruby-identifier">h</span>) <span class="ruby-comment"># jsonb_set(jsonb, ARRAY[&#39;a&#39;, &#39;b&#39;], h, true)</span>
<span class="ruby-identifier">jsonb_op</span>.<span class="ruby-identifier">set</span>([<span class="ruby-string">&#39;a&#39;</span>, <span class="ruby-string">&#39;b&#39;</span>], <span class="ruby-identifier">h</span>, <span class="ruby-keyword">false</span>) <span class="ruby-comment"># jsonb_set(jsonb, ARRAY[&#39;a&#39;, &#39;b&#39;], h, false)</span>
</pre>

</div>
<div class='source'>
<a class='source-toggle' href='#' onclick='toggleCode(&#39;method-i-set-source&#39;); return false'>
[show source]
</a>
<pre id='method-i-set-source'>    <span class="ruby-comment"># File lib/sequel/extensions/pg_json_ops.rb</span>
<span class="line-num">619</span> <span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">set</span>(<span class="ruby-identifier">path</span>, <span class="ruby-identifier">other</span>, <span class="ruby-identifier">create_missing</span>=<span class="ruby-keyword">true</span>)
<span class="line-num">620</span>   <span class="ruby-keyword">self</span>.<span class="ruby-identifier">class</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">function</span>(<span class="ruby-value">:set</span>, <span class="ruby-identifier">wrap_input_array</span>(<span class="ruby-identifier">path</span>), <span class="ruby-identifier">wrap_input_jsonb</span>(<span class="ruby-identifier">other</span>), <span class="ruby-identifier">create_missing</span>))
<span class="line-num">621</span> <span class="ruby-keyword">end</span></pre>
</div>
</div>
<div class='method public-instance' id='method-method-i-set_lax'>
<a name='method-i-set_lax'></a>
<div class='synopsis'>
<span class='name'>set_lax</span><span class='arguments'>(path, other, create_missing=true, null_value_treatment='use_json_null')</span>

</div>
<div class='description'>

<p>The same as <a href="JSONBOp.html#method-i-set"><code>set</code></a>, except if <code>other</code> is <code>nil</code>, then behaves according to <code>null_value_treatment</code>, which can be one of ‘raise_exception’, ‘use_json_null’ (default), ‘delete_key’, or ‘return_target’.</p>

</div>
<div class='source'>
<a class='source-toggle' href='#' onclick='toggleCode(&#39;method-i-set_lax-source&#39;); return false'>
[show source]
</a>
<pre id='method-i-set_lax-source'>    <span class="ruby-comment"># File lib/sequel/extensions/pg_json_ops.rb</span>
<span class="line-num">625</span> <span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">set_lax</span>(<span class="ruby-identifier">path</span>, <span class="ruby-identifier">other</span>, <span class="ruby-identifier">create_missing</span>=<span class="ruby-keyword">true</span>, <span class="ruby-identifier">null_value_treatment</span>=<span class="ruby-string">&#39;use_json_null&#39;</span>)
<span class="line-num">626</span>   <span class="ruby-keyword">self</span>.<span class="ruby-identifier">class</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">function</span>(<span class="ruby-value">:set_lax</span>, <span class="ruby-identifier">wrap_input_array</span>(<span class="ruby-identifier">path</span>), <span class="ruby-identifier">wrap_input_jsonb</span>(<span class="ruby-identifier">other</span>), <span class="ruby-identifier">create_missing</span>, <span class="ruby-identifier">null_value_treatment</span>))
<span class="line-num">627</span> <span class="ruby-keyword">end</span></pre>
</div>
</div>
</div>
</div>

</div>
</div>

<div id='footer-push'></div>
</div>
<div id='footer'>
<a href="https://github.com/jeremyevans/hanna"><strong>Hanna</strong> RDoc template</a>
</div>
</body>
</html>
