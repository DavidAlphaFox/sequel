<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html lang='en'>
<head>
<title>Sequel::Plugins::TypecastOnLoad</title>
<meta name='viewport' content='width=device-width, initial-scale=1'>
<meta content='text/html; charset=UTF-8' http-equiv='Content-Type'>
<link href='../../../css/style.css' media='screen' rel='stylesheet' type='text/css'>
<script type='text/javascript'>
  function popupCode(url) {
    window.open(url, "Code", "resizable=yes,scrollbars=yes,toolbar=no,status=no,height=150,width=400")
  }
  
  function toggleCode(id) {
    var code = document.getElementById(id)
  
    code.style.display = code.style.display != 'block' ? 'block' : 'none'
    return true
  }
  
  // Make codeblocks hidden by default
  document.writeln('<' + 'style type="text/css">.method .source pre { display: none }<\/style>')
</script>
</head>
<body class='page'>
<div class='class' id='wrapper'>
<div class='header'>
<h1 class='name'><span class='type'>module</span>
Sequel::Plugins::TypecastOnLoad
</h1>
<ol class='paths'>
<li>
<a href="../../../files/lib/sequel/plugins/typecast_on_load_rb.html">lib/sequel/plugins/typecast_on_load.rb</a>
</li>
</ol>
</div>
<div id='content'>
<div id='text'>
<div id='description'>
<p>The typecast_on_load plugin exists because most of Sequel’s database adapters don’t have complete control over typecasting, and may return columns that aren’t typecast correctly (with correct being defined as how the model object would typecast the same column values).</p>

<p>This plugin makes model loading call the setter methods (which typecast by default) for all columns given.  You can either specify the columns to typecast on load in the plugin call itself, or afterwards using  add_typecast_on_load_columns:</p>

<pre class="ruby"><span class="ruby-constant">Album</span>.<span class="ruby-identifier">plugin</span> <span class="ruby-value">:typecast_on_load</span>, <span class="ruby-value">:release_date</span>, <span class="ruby-value">:record_date</span>
<span class="ruby-comment"># or:</span>
<span class="ruby-constant">Album</span>.<span class="ruby-identifier">plugin</span> <span class="ruby-value">:typecast_on_load</span>
<span class="ruby-constant">Album</span>.<span class="ruby-identifier">add_typecast_on_load_columns</span> <span class="ruby-value">:release_date</span>, <span class="ruby-value">:record_date</span>
</pre>

<p>If the database returns release_date and record_date columns as strings instead of dates, this will ensure that if you access those columns through the model object, you’ll get Date objects instead of strings.</p>
</div>
<div id='method-list'>
<h2>Methods</h2>
<h3>Public Class</h3>
<ol>
<li><a href="#method-c-configure">configure</a></li>
</ol>
</div>
<div id='context'>
</div>
<div id='class-list'>
<h2>Classes and Modules</h2>
<ol>
<li><a href="TypecastOnLoad/ClassMethods.html">Sequel::Plugins::TypecastOnLoad::ClassMethods</a></li>
<li><a href="TypecastOnLoad/InstanceMethods.html">Sequel::Plugins::TypecastOnLoad::InstanceMethods</a></li>
</ol>
</div>
<div id='section'>
<div id='methods'>
<h2>Public Class methods</h2>
<div class='method public-class' id='method-method-c-configure'>
<a name='method-c-configure'></a>
<div class='synopsis'>
<span class='name'>configure</span><span class='arguments'>(model, *columns)</span>

</div>
<div class='description'>

<p>Call add_typecast_on_load_columns on the passed column arguments.</p>

</div>
<div class='source'>
<a class='source-toggle' href='#' onclick='toggleCode(&#39;method-c-configure-source&#39;); return false'>
[show source]
</a>
<pre id='method-c-configure-source'>   <span class="ruby-comment"># File lib/sequel/plugins/typecast_on_load.rb</span>
<span class="line-num">25</span> <span class="ruby-keyword">def</span> <span class="ruby-keyword">self</span>.<span class="ruby-identifier ruby-title">configure</span>(<span class="ruby-identifier">model</span>, <span class="ruby-operator">*</span><span class="ruby-identifier">columns</span>)
<span class="line-num">26</span>   <span class="ruby-identifier">model</span>.<span class="ruby-identifier">instance_exec</span> <span class="ruby-keyword">do</span>
<span class="line-num">27</span>     <span class="ruby-ivar">@typecast_on_load_columns</span> <span class="ruby-operator">||=</span> []
<span class="line-num">28</span>     <span class="ruby-identifier">add_typecast_on_load_columns</span>(<span class="ruby-operator">*</span><span class="ruby-identifier">columns</span>)
<span class="line-num">29</span>   <span class="ruby-keyword">end</span>
<span class="line-num">30</span> <span class="ruby-keyword">end</span></pre>
</div>
</div>
</div>
</div>

</div>
</div>

<div id='footer-push'></div>
</div>
<div id='footer'>
<a href="https://github.com/jeremyevans/hanna-nouveau"><strong>Hanna Nouveau</strong> RDoc template</a>
</div>
</body>
</html>
