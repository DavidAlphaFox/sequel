<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html lang='en'>
<head>
<title>Sequel::Plugins::UpdatePrimaryKey</title>
<meta name='viewport' content='width=device-width, initial-scale=1'>
<meta content='text/html; charset=UTF-8' http-equiv='Content-Type'>
<link href='../../../css/style.css' media='screen' rel='stylesheet' type='text/css'>
<script type='text/javascript'>
  function popupCode(url) {
    window.open(url, "Code", "resizable=yes,scrollbars=yes,toolbar=no,status=no,height=150,width=400")
  }
  
  function toggleCode(id) {
    var code = document.getElementById(id)
  
    code.style.display = code.style.display != 'block' ? 'block' : 'none'
    return true
  }
  
  // Make codeblocks hidden by default
  document.writeln('<' + 'style type="text/css">.method .source pre { display: none }<\/style>')
</script>
</head>
<body class='page'>
<div class='class' id='wrapper'>
<div class='header'>
<h1 class='name'><span class='type'>module</span>
Sequel::Plugins::UpdatePrimaryKey
</h1>
<ol class='paths'>
<li>
<a href="../../../files/lib/sequel/plugins/update_primary_key_rb.html">lib/sequel/plugins/update_primary_key.rb</a>
</li>
</ol>
</div>
<div id='content'>
<div id='text'>
<div id='description'>
<p>The update_primary_key plugin allows you to modify an objectâ€™s primary key and then save the record.  <a href="../../Sequel.html"><code>Sequel</code></a> does not work correctly with primary key modifications by default.  <a href="../../Sequel.html"><code>Sequel</code></a> is designed to work with surrogate primary keys that never need to be modified, but this plugin makes it work correctly with natural primary keys that may need to be modified. Example:</p>

<pre class="ruby"><span class="ruby-identifier">album</span> = <span class="ruby-constant">Album</span>[<span class="ruby-value">1</span>]
<span class="ruby-identifier">album</span>.<span class="ruby-identifier">id</span> = <span class="ruby-value">2</span>
<span class="ruby-identifier">album</span>.<span class="ruby-identifier">save</span>
</pre>

<p>Usage:</p>

<pre class="ruby"><span class="ruby-comment"># Make all model subclasses support primary key updates</span>
<span class="ruby-comment"># (called before loading subclasses)</span>
<span class="ruby-constant">Sequel</span><span class="ruby-operator">::</span><span class="ruby-constant">Model</span>.<span class="ruby-identifier">plugin</span> <span class="ruby-value">:update_primary_key</span>

<span class="ruby-comment"># Make the Album class support primary key updates</span>
<span class="ruby-constant">Album</span>.<span class="ruby-identifier">plugin</span> <span class="ruby-value">:update_primary_key</span>
</pre>
</div>
<div id='context'>
</div>
<div id='class-list'>
<h2>Classes and Modules</h2>
<ol>
<li><a href="UpdatePrimaryKey/InstanceMethods.html">Sequel::Plugins::UpdatePrimaryKey::InstanceMethods</a></li>
</ol>
</div>
<div id='section'>
</div>

</div>
</div>

<div id='footer-push'></div>
</div>
<div id='footer'>
<a href="https://github.com/jeremyevans/hanna"><strong>Hanna</strong> RDoc template</a>
</div>
</body>
</html>
