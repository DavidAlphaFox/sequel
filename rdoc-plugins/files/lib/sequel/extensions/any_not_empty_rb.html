<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html lang='en'>
<head>
<title>any_not_empty.rb</title>
<meta name='viewport' content='width=device-width, initial-scale=1'>
<meta content='text/html; charset=UTF-8' http-equiv='Content-Type'>
<link href='../../../../css/style.css' media='screen' rel='stylesheet' type='text/css'>
<script type='text/javascript'>
  function popupCode(url) {
    window.open(url, "Code", "resizable=yes,scrollbars=yes,toolbar=no,status=no,height=150,width=400")
  }
  
  function toggleCode(id) {
    var code = document.getElementById(id)
  
    code.style.display = code.style.display != 'block' ? 'block' : 'none'
    return true
  }
  
  // Make codeblocks hidden by default
  document.writeln('<' + 'style type="text/css">.method .source pre { display: none }<\/style>')
</script>
</head>
<body class='page'>
<div class='file' id='wrapper'>
<div class='header'>
<h1 class='name'>any_not_empty.rb
</h1>
<div class='paths'>
lib/sequel/extensions/any_not_empty.rb
</div>
<div class='last-update'>
Last Update:
<span class='datetime'>2021-09-21 14:24:30 -0700</span>
</div>
</div>
<div id='content'>
<div id='text'>
<div id='description'>
<p>The any_not_empty extension changes the behavior of Dataset#any? if called without a block.  By default, this method uses the standard Enumerable behavior of enumerating results and seeing if any result is not false or nil.  With this extension, it just checks whether the dataset is empty.  This approach can be much faster if the dataset is currently large.</p>

<pre class="ruby"><span class="ruby-constant">DB</span>[<span class="ruby-value">:table</span>].<span class="ruby-identifier">any?</span>
<span class="ruby-comment"># SELECT * FROM table</span>

<span class="ruby-constant">DB</span>[<span class="ruby-value">:table</span>].<span class="ruby-identifier">extension</span>(<span class="ruby-value">:any_not_empty</span>).<span class="ruby-identifier">any?</span>
<span class="ruby-comment"># SELECT 1 as one FROM table LIMIT 1</span>
</pre>

<p>You can load this extension into specific datasets:</p>

<pre class="ruby"><span class="ruby-identifier">ds</span> = <span class="ruby-constant">DB</span>[<span class="ruby-value">:table</span>]
<span class="ruby-identifier">ds</span> = <span class="ruby-identifier">ds</span>.<span class="ruby-identifier">extension</span>(<span class="ruby-value">:any_not_empty</span>)
</pre>

<p>Or you can load it into all of a databaseâ€™s datasets, which is probably the desired behavior if you are using this extension:</p>

<pre class="ruby"><span class="ruby-constant">DB</span>.<span class="ruby-identifier">extension</span>(<span class="ruby-value">:any_not_empty</span>)
</pre>

<p>Note that this can result in any? returning a different result if the dataset has a row_proc that can return false or nil.</p>

<p>Related module: <a href="../../../../classes/Sequel/AnyNotEmpty.html"><code>Sequel::AnyNotEmpty</code></a></p>
</div>
<div id='context'>
</div>

</div>
</div>

<div id='footer-push'></div>
</div>
<div id='footer'>
<a href="https://github.com/jeremyevans/hanna-nouveau"><strong>Hanna Nouveau</strong> RDoc template</a>
</div>
</body>
</html>
